# SF Symbol - åŠ¨ç”»

<table>
<tr>
<td width="20%">
  <img src="../images/åŠ¨ç”»æ¼”ç¤º.gif" width="100%">
</td>
<td width="100%">
  <strong>Symbol Effect</strong> 
    <p>åœ¨ iOS 17 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼ŒApple ä¸º SF Symbols å¼•å…¥äº†å…¨æ–°çš„ ç¬¦å·åŠ¨ç”»ï¼ˆSymbol Effectsï¼‰ã€‚
è¿™äº›åŠ¨ç”»ä¸åŒäºä¼ ç»Ÿè§†å›¾åŠ¨ç”»ï¼ˆç¼©æ”¾ã€å¹³ç§»ã€æ—‹è½¬ï¼‰ï¼Œè€Œæ˜¯ç›´æ¥ä½œç”¨äºç¬¦å·å›¾å±‚æˆ–å¯å˜éƒ¨åˆ†ï¼Œè®©å›¾æ ‡æœ¬èº«å…·æœ‰åŠ¨æ€è¡¨ç°ï¼Œä¾‹å¦‚å‘¼å¸ã€é—ªçƒã€æ¸å˜ã€è¿‡æ¸¡ç­‰æ•ˆæœã€‚</p>
  <strong>é€šè¿‡ç¬¦å·åŠ¨ç”»ï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨ç¼–å†™å¤æ‚çš„ Core Animationï¼Œå°±èƒ½è®©ç³»ç»Ÿå›¾æ ‡â€œæ´»â€èµ·æ¥ã€‚ä¾‹å¦‚ï¼š</strong>
  <ul>
    <li>Wi-Fi å›¾æ ‡é€æ ¼ç‚¹äº®ï¼Œæ¨¡æ‹Ÿä¿¡å·æ‰«æï¼›</li>
    <li>ä¸‹è½½ç®­å¤´é—ªåŠ¨ï¼Œæç¤ºä»»åŠ¡è¿›è¡Œä¸­ï¼›</li>
    <li>ç”µæ± ã€æ’­æ”¾é”®ã€é“ƒé“›ç­‰ç¬¦å·åœ¨çŠ¶æ€å˜åŒ–æ—¶å¸¦æœ‰è‡ªç„¶è¿‡æ¸¡ã€‚</li>
  </ul>
</td>
</tr>
</table>

## åŠ¨ç”»åˆ†ç±»

Apple å°†ç¬¦å·åŠ¨ç”»åˆ†ä¸ºå‡ å¤§ç±»ï¼š

| ç¬¦å·åŠ¨ç”»ç±»å‹                           | åè®®åç§°                        | æè¿°                                        |
| -------------------------------------- | ------------------------------- | ------------------------------------------- |
| **ç¦»æ•£åŠ¨ç”»ï¼ˆDiscreteï¼‰**               | `DiscreteSymbolEffect`          | æ’­æ”¾ä¸€æ¬¡å³ç»“æŸï¼Œå¸¸ç”¨äºå¼ºè°ƒç‚¹å‡»æˆ–å˜åŒ–ç¬é—´ã€‚  |
| **æ— é™åŠ¨ç”»ï¼ˆIndefiniteï¼‰**             | `IndefiniteSymbolEffect`        | æŒç»­å¾ªç¯ï¼Œç›´åˆ°è¢«ç§»é™¤ï¼Œä¾‹å¦‚ Wi-Fi ä¿¡å·æ³¢åŠ¨ã€‚ |
| **è¿‡æ¸¡åŠ¨ç”»ï¼ˆTransitionï¼‰**             | `TransitionSymbolEffect`        | åœ¨ç¬¦å·æ›¿æ¢æ—¶æä¾›å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœã€‚            |
| **å†…å®¹è¿‡æ¸¡åŠ¨ç”»ï¼ˆContent Transitionï¼‰** | `ContentTransitionSymbolEffect` | ä¸ä»…ç¬¦å·æœ¬èº«å˜åŒ–ï¼Œè¿å†…å®¹ä¹Ÿèƒ½å¸¦æœ‰åŠ¨ç”»æ•ˆæœã€‚  |

ç³»ç»Ÿå†…ç½®åŠ¨ç”»ä¸åˆ†ç±»ç¤ºä¾‹ï¼š

| åŠ¨ç”»               | Discrete | Indefinite | Transition | Content Transition | å¯¹åº”åè®®                                                     |
| ------------------ | -------- | ---------- | ---------- | ------------------ | ------------------------------------------------------------ |
| **Bounce**         | ğŸŸ¢        | ğŸŸ¢          |            |                    | `BounceSymbolEffect` , `DiscreteSymbolEffect` , `IndefiniteSymbolEffect` |
| **Pulse**          | ğŸŸ¢        | ğŸŸ¢          |            |                    | `PulseSymbolEffect`, `DiscreteSymbolEffect` ,`IndefiniteSymbolEffect` |
| **Variable Color** | ğŸŸ¢        | ğŸŸ¢          |            |                    | `VariableColorSymbolEffect`, `DiscreteSymbolEffect` , `IndefiniteSymbolEffect` |
| **Scale**          |          | ğŸŸ¢          |            |                    | `ScaleSymbolEffect` , `IndefiniteSymbolEffect`               |
| **Wiggle**         | ğŸŸ¢        | ğŸŸ¢          |            |                    | `WiggleSymbolEffect`, `DiscreteSymbolEffect` , `IndefiniteSymbolEffect` |
| **Appear**         |          | ğŸŸ¢          | ğŸŸ¢          |                    | `AppearSymbolEffect` ,  `IndefiniteSymbolEffect`, `TransitionSymbolEffect` |
| **Disappear**      |          | ğŸŸ¢          | ğŸŸ¢          |                    | `DisappearSymbolEffect` ,  `IndefiniteSymbolEffect`, `TransitionSymbolEffect` |
| **Replace**        |          |            |            | ğŸŸ¢                  | `ReplaceSymbolEffect` , `ContentTransitionSymbolEffect`      |

## addSymbolEffect API

UIKit æä¾›äº†ä¾¿æ·çš„è°ƒç”¨æ¥å£ï¼Œä¸»è¦ç”¨äº **UIImageView** å’Œ **UIBarButtonItem**ï¼š

```
imageView.addSymbolEffect(.bounce)
```

`addSymbolEffect` çš„é‡è½½æ–¹æ³•ï¼š

```Swift
@MainActor @preconcurrency 
public func addSymbolEffect(
   _ effect: some DiscreteSymbolEffect & SymbolEffect, 
   options: SymbolEffectOptions = .default, 
   animated: Bool = true, 
   completion: UISymbolEffectCompletion? = nil
)

@MainActor @preconcurrency 
public func addSymbolEffect(
  _ effect: some IndefiniteSymbolEffect & SymbolEffect, 
  options: SymbolEffectOptions = .default, 
  animated: Bool = true, 
  completion: UISymbolEffectCompletion? = nil
)

@MainActor @preconcurrency 
public func addSymbolEffect(
  _ effect: some DiscreteSymbolEffect & IndefiniteSymbolEffect & SymbolEffect, 
  options: SymbolEffectOptions = .default, 
  animated: Bool = true, 
  completion: UISymbolEffectCompletion? = nil
)
```

è¿™äº›é‡è½½æ–¹æ³•çš„`effect`æ¶‰åŠä¸€ä¸ªé…ç½®é¡¹ å’Œ ä¸‰ä¸ªé‡è¦çš„åè®®ï¼š **DiscreteSymbolEffect**ã€**IndefiniteSymbolEffect** å’Œ **SymbolEffect**ã€‚è¿™é‡Œä¹Ÿä½“ç°äº†Swift Protocol å¼ºå¤§çš„èƒ½åŠ›ã€‚ 

### 1. åŠ¨ç”»ç‰¹æ€§åè®®

```
public protocol SymbolEffect : Hashable, Sendable {
    var configuration: SymbolEffectConfiguration { get }
}
```

**å®šä½**ï¼š`SymbolEffect` æ˜¯ **æ‰€æœ‰ç¬¦å·åŠ¨ç”»çš„å…¬å…±æŠ½è±¡åè®®**ã€‚

**ä½œç”¨**ï¼š

- æŠ½ç¦»å‡ºåŠ¨ç”»çš„ **é…ç½®èƒ½åŠ›**ï¼Œæ¯”å¦‚é‡å¤æ¬¡æ•°ã€å»¶è¿Ÿã€ä½œç”¨å±‚çº§ç­‰ã€‚
- ç»Ÿä¸€åŠ¨ç”»åœ¨ UIKit / SwiftUI ä¸­çš„è°ƒç”¨æ¥å£ï¼ˆå¦‚ `addSymbolEffect()`ã€`.symbolEffect()` ç­‰ï¼‰ã€‚

**æ³¨æ„**ï¼šå®ƒæœ¬èº«ä¸å®šä¹‰åŠ¨ç”»è¡Œä¸ºï¼Œä¹Ÿä¸æ§åˆ¶å¾ªç¯æˆ–æŒç»­æ—¶é—´ï¼Œåªæä¾›â€œæè¿°å’Œé…ç½®â€èƒ½åŠ›ã€‚



**å…·ä½“çš„åŠ¨ç”»ç±»å‹**ï¼ˆå¦‚ `BounceSymbolEffect`ã€`PulseSymbolEffect`ã€`VariableColorSymbolEffect`ã€`AppearSymbolEffect` ç­‰ï¼‰ç»§æ‰¿ **SymbolEffect**ï¼Œå†å„è‡ªå®ç°ä¸åŒçš„ **åŠŸèƒ½æ€§åè®®**ã€‚

```
public struct BounceSymbolEffect : SymbolEffect {

    public var up: BounceSymbolEffect { get }
    public var down: BounceSymbolEffect { get }
    public var byLayer: BounceSymbolEffect { get }
    public var wholeSymbol: BounceSymbolEffect { get }
    
    // ç»§æ‰¿SymbolEffectè·å¾—çš„é…ç½®èƒ½åŠ›
    public var configuration: SymbolEffectConfiguration { get }
    
    ......
}
```



### 2. åŠ¨ç”»æ‰§è¡Œåè®®

 ```
 public protocol DiscreteSymbolEffect {}
 public protocol IndefiniteSymbolEffect {}
 
 extension BounceSymbolEffect : IndefiniteSymbolEffect { }
 extension BounceSymbolEffect : DiscreteSymbolEffect { }
 ```

**å®šä½**ï¼šè¿™ä¸¤ä¸ªåè®® **æ§åˆ¶åŠ¨ç”»çš„ç”Ÿå‘½å‘¨æœŸç‰¹æ€§**ã€‚

**ä½œç”¨**ï¼š

- `DiscreteSymbolEffect`ï¼š **ä¸€æ¬¡æ€§åŠ¨ç”»**ï¼ˆç¬æ€åŠ¨ç”»ï¼‰ï¼Œåªæ’­æ”¾ä¸€æ¬¡æˆ–æ’­æ”¾å›ºå®šæ¬¡æ•°ï¼Œå¦‚ Appear / Disappearã€‚
- `IndefiniteSymbolEffect`ï¼š **æŒç»­åŠ¨ç”»**ï¼ˆæ— é™å¾ªç¯ï¼‰ï¼Œç›´åˆ°è¢«ç§»é™¤æˆ–ç¦ç”¨ï¼Œå¦‚ Pulse / Bounce / VariableColorã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ `PulseSymbolEffect` å¯ä»¥åŒæ—¶ conform ä¸¤ä¸ªåè®®ï¼šå®ƒæ—¢å¯ä»¥ä½œä¸ºä¸€æ¬¡æ€§è§¦å‘ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ— é™å¾ªç¯ï¼Œå–å†³äº `addSymbolEffect()` è°ƒç”¨æ—¶çš„é…ç½®ã€‚



### 3. SymbolEffectOptions

`SymbolEffectOptions` æä¾›äº† **ç¬¦å·åŠ¨ç”»æ’­æ”¾çš„ç­–ç•¥å’Œæ§åˆ¶**ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

1. **é€Ÿåº¦æ§åˆ¶ï¼ˆSpeedï¼‰**
2. **é‡å¤æ§åˆ¶ï¼ˆRepeat / RepeatBehaviorï¼‰**
3. **é»˜è®¤å€¼ä¸é¢„ç½®ï¼ˆdefaultã€repeatingã€nonRepeatingï¼‰**

å®ƒæœ¬èº«æ˜¯ **å€¼ç±»å‹**ï¼ˆstructï¼‰ï¼Œå¹¶ conform `Hashable` / `Sendable`ï¼Œå¯ä»¥å®‰å…¨åœ°ç”¨äºæ¯”è¾ƒã€å­˜å‚¨å’Œå¹¶å‘ç¯å¢ƒã€‚

#### 1. é€Ÿåº¦æ§åˆ¶ï¼ˆSpeedï¼‰

åŠ¨ç”»æ’­æ”¾çš„å¿«æ…¢å¯ä»¥é€šè¿‡ `speed` æ¥æ§åˆ¶ï¼š

```
// åˆ›å»ºä¸€ç»„ optionsï¼Œå¹¶è®¾ç½®æ’­æ”¾é€Ÿåº¦ä¸ºåŸæ¥çš„ 2 å€
let options = SymbolEffectOptions.speed(2.0)

// æˆ–è€…åœ¨å·²æœ‰ options ä¸Šä¿®æ”¹
let newOptions = options.speed(0.5) // åŠé€Ÿæ’­æ”¾
```

- é»˜è®¤é€Ÿåº¦ä¸º `1.0`
- å€¼è¶Šå¤§ï¼ŒåŠ¨ç”»æ’­æ”¾è¶Šå¿«ï¼›å€¼è¶Šå°ï¼ŒåŠ¨ç”»æ’­æ”¾è¶Šæ…¢
- ç³»ç»Ÿä¼šå¯¹æç«¯å€¼è¿›è¡Œé™åˆ¶ï¼ˆclampingï¼‰

------

#### 2. é‡å¤æ§åˆ¶

`SymbolEffectOptions` è¿˜æ§åˆ¶åŠ¨ç”»çš„é‡å¤è¡Œä¸ºï¼š

##### æ—§ APIï¼ˆiOS 17ï¼‰

- `.repeat(_ count: Int?)`ï¼šæŒ‡å®šæ’­æ”¾æ¬¡æ•°
- `.repeating`ï¼šæ— é™å¾ªç¯
- `.nonRepeating`ï¼šåªæ’­æ”¾ä¸€æ¬¡

```
// æ’­æ”¾ 3 æ¬¡
let options = SymbolEffectOptions.repeat(3)

// æ— é™å¾ªç¯
let options2 = SymbolEffectOptions.repeating
```

##### æ–° APIï¼ˆiOS 18+ï¼‰

Apple å¼•å…¥äº†æ›´çµæ´»çš„ **RepeatBehavior**ï¼š

```
@available(iOS 18.0, *)
SymbolEffectOptions.RepeatBehavior {
    // ä½¿ç”¨å‘¨æœŸæ€§åŠ¨ç”»ï¼Œæ— é™å¾ªç¯
    static var periodic: SymbolEffectOptions.RepeatBehavior
    
    // å‘¨æœŸæ€§åŠ¨ç”»ï¼Œå¯æŒ‡å®šæ¬¡æ•°å’Œå»¶è¿Ÿ
    static func periodic(_ count: Int? = nil, delay: Double? = nil) -> SymbolEffectOptions.RepeatBehavior
    
    // è¿ç»­åŠ¨ç”»ï¼Œæ›´å¹³æ»‘çš„æ— é™å¾ªç¯
    static var continuous: SymbolEffectOptions.RepeatBehavior
}
```

ç¤ºä¾‹ï¼š

```
// æ— é™å¾ªç¯ï¼Œå‘¨æœŸæ€§æ’­æ”¾
let options = SymbolEffectOptions.repeat(.periodic)

// æ’­æ”¾ 5 æ¬¡ï¼Œæ¯æ¬¡é—´éš” 1 ç§’
let options2 = SymbolEffectOptions.repeat(.periodic(5, delay: 1))

// æ— é™å¾ªç¯ï¼Œä½¿ç”¨å¹³æ»‘è¿ç»­åŠ¨ç”»
let options3 = SymbolEffectOptions.repeat(.continuous)
```

- **periodic**ï¼šæ¯æ¬¡æ’­æ”¾å®Œæˆåé—´éš”ä¸€æ®µæ—¶é—´å†å¼€å§‹ï¼Œé€‚åˆèŠ‚å¥æ„Ÿæ˜æ˜¾çš„åŠ¨ç”»
- **continuous**ï¼šåŠ¨ç”»ä»å¼€å§‹åˆ°ç»“æŸå¹³æ»‘è¡”æ¥ï¼Œé€‚åˆå‘¼å¸ã€é—ªçƒç­‰è¿ç»­æ•ˆæœ

#### 3. é»˜è®¤å€¼

- `SymbolEffectOptions.default`ï¼šé»˜è®¤é€Ÿåº¦ 1.0ï¼Œæ’­æ”¾è¡Œä¸ºæ ¹æ®åŠ¨ç”»ç±»å‹å†³å®š
- `SymbolEffectOptions.repeating`ï¼šåå¥½æ— é™å¾ªç¯
- `SymbolEffectOptions.nonRepeating`ï¼šåªæ’­æ”¾ä¸€æ¬¡



#### 4. é“¾å¼è°ƒç”¨

è¿™äº›é€‰é¡¹å¯ä»¥é“¾å¼è°ƒç”¨ï¼š

```
imageView.addSymbolEffect(.pulse, options: .speed(1.5).repeating)
```



##  Bounce åŠ¨ç”»

```
public struct BounceSymbolEffect : SymbolEffect
```

`BounceSymbolEffect` æ˜¯ **ä¸“é—¨ä¸º SF Symbols è®¾è®¡çš„å¼¹è·³åŠ¨ç”»**ã€‚åŠ¨ç”»è¡¨ç°ä¸º **æ²¿ Y è½´çš„è·³åŠ¨è¿åŠ¨**ï¼Œå¯ä»¥å‘ä¸Šæˆ–å‘ä¸‹å¼¹è·³ã€‚

> âš ï¸ æ³¨æ„ï¼š**æ–¹å‘åªèƒ½å•å‘è®¾ç½®**ï¼ŒAPI å¹¶ä¸æ”¯æŒâ€œå…ˆä¸‹å†ä¸Šâ€æˆ–è€…è‡ªå®šä¹‰ä¸Šä¸‹é¡ºåºã€‚



### åè®®éµå¾ªä¸é…ç½®èƒ½åŠ›

- **SymbolEffect**
  - æ‹¥æœ‰ **é…ç½®èƒ½åŠ›**ï¼ˆ`configuration`ï¼‰ï¼Œç”¨äºæè¿°åŠ¨ç”»å‚æ•°ï¼Œå¦‚é‡å¤æ¬¡æ•°ã€é€Ÿåº¦ç­‰ã€‚
  - å¯ç›´æ¥åœ¨ UIKit / SwiftUI ä¸­ä½¿ç”¨ç»Ÿä¸€æ¥å£ï¼Œä¾‹å¦‚ï¼š`addSymbolEffect()` / `.symbolEffect()`ã€‚
- **DiscreteSymbolEffect**
  - ä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆç¬æ€åŠ¨ç”»ï¼‰ï¼Œæ’­æ”¾å®Œæˆå³ç»“æŸã€‚
- **IndefiniteSymbolEffect**
  - æŒç»­åŠ¨ç”»ï¼ˆæ— é™å¾ªç¯ï¼‰ï¼Œç›´åˆ°è¢«ç§»é™¤æˆ–ç¦ç”¨ã€‚
  - å¯é€šè¿‡ `SymbolEffectOptions.repeating` è®¾ç½®å¾ªç¯æ’­æ”¾ã€‚

### æ–¹å‘æ§åˆ¶

```
public var up: BounceSymbolEffect { get }
public var down: BounceSymbolEffect { get }
```

* `up` : ç¬¦å·å‘ä¸Šå¼¹è·³

* `down`: ç¬¦å·å‘ä¸‹å¼¹è·³

```
// å‘ä¸Šå¼¹è·³ï¼Œæ…¢é€Ÿï¼Œå¾ªç¯
imageView2.addSymbolEffect(.bounce.up, options: .repeating.speed(0.1) )
```

> âš ï¸ å•å‘è®¾ç½®ï¼šæ— æ³•ä¸€æ¬¡å‘¨æœŸå®ç°å…ˆä¸‹åä¸Šçš„æ•ˆæœã€‚

### å±‚çº§æ§åˆ¶

```
public var byLayer: BounceSymbolEffect { get }
public var wholeSymbol: BounceSymbolEffect { get }
```

* `byLayer`:  å¯¹æ¯ä¸ª motion groupï¼ˆç¬¦å·å†…éƒ¨å¯å•ç‹¬åŠ¨ç”»çš„éƒ¨åˆ†ï¼‰åˆ†åˆ«åº”ç”¨åŠ¨ç”»

* `wholeSymbol`:  åŒæ—¶ä½œç”¨äºæ‰€æœ‰ motion group

```
// æ¯ä¸ªå±‚å•ç‹¬è·³åŠ¨ï¼Œå‘ä¸Šï¼Œå¾ªç¯
imageView.addSymbolEffect(.bounce.byLayer.up, options: .repeating.speed(0.1))

// æ•´ä¸ªç¬¦å·åŒæ—¶è·³åŠ¨ï¼Œå‘ä¸‹ï¼Œå¾ªç¯
imageView.addSymbolEffect(.bounce.wholeSymbol.down, options: .repeating.speed(0.5))
```

### è¡¥å……ä¿¡æ¯

1. **é»˜è®¤æ’­æ”¾ç±»å‹**
   - Bounce é»˜è®¤æ˜¯ä¸€ç§ **ä¸€æ¬¡æ€§åŠ¨ç”»**ï¼ˆDiscreteï¼‰ï¼Œé€šè¿‡ options å¯æ”¹ä¸ºæ— é™å¾ªç¯ï¼ˆIndefiniteï¼‰ã€‚
2. **ä¸ Pulse / VariableColor åŒºåˆ«**
   - Bounce ä¸»è¦è¡¨ç°ä¸º **ä½ç§»å¼¹è·³**
   - Pulse / VariableColor æ›´å¤šæ˜¯ **é€æ˜åº¦æˆ–é¢œè‰²å˜åŒ–**
3. **å¯ç»„åˆé“¾å¼è°ƒç”¨**
   - `.bounce.byLayer.up` è¿™æ ·çš„é“¾å¼è°ƒç”¨éå¸¸çµæ´»ï¼Œå¯ä»¥å…ˆé€‰æ‹©å±‚çº§ï¼Œå†é€‰æ‹©æ–¹å‘
   - ä½†æ–¹å‘é“¾æ— æ³•æ··åˆé¡ºåºï¼ˆæ— æ³• `.up.down`ï¼‰ã€‚



## Pulse åŠ¨ç”»

```
public struct PulseSymbolEffect : SymbolEffect
```

`PulseSymbolEffect` æ˜¯ **ä¸“é—¨ä¸º SF Symbols è®¾è®¡çš„è„‰å†²åŠ¨ç”»**ï¼ŒåŠ¨ç”»è¡¨ç°ä¸º **ç¬¦å·æˆ–å…¶éƒ¨åˆ†å›¾å±‚çš„é€æ˜åº¦å‘¨æœŸæ€§å˜åŒ–**ï¼Œäº§ç”Ÿâ€œå‘¼å¸â€æˆ–â€œé—ªçƒâ€çš„æ•ˆæœã€‚

> âš ï¸ æ³¨æ„ï¼šPulse åŠ¨ç”»å¯ä»¥æ—¢ä½œä¸ºä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆDiscreteï¼‰æ’­æ”¾ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ— é™å¾ªç¯åŠ¨ç”»ï¼ˆIndefiniteï¼‰ä½¿ç”¨ï¼Œå–å†³äº `SymbolEffectOptions` çš„é…ç½®ã€‚

------

### åè®®éµå¾ªä¸é…ç½®èƒ½åŠ›

- **SymbolEffect**
  - æ‹¥æœ‰ **é…ç½®èƒ½åŠ›**ï¼ˆ`configuration`ï¼‰ï¼Œç”¨äºæè¿°åŠ¨ç”»å‚æ•°ï¼Œå¦‚é‡å¤æ¬¡æ•°ã€é€Ÿåº¦ç­‰ã€‚
  - å¯ç›´æ¥åœ¨ UIKit / SwiftUI ä¸­ä½¿ç”¨ç»Ÿä¸€æ¥å£ï¼Œä¾‹å¦‚ï¼š`addSymbolEffect()` / `.symbolEffect()`ã€‚
- **DiscreteSymbolEffect**
  - ä¸€æ¬¡æ€§è„‰å†²åŠ¨ç”»ï¼ˆç¬æ€ï¼‰ï¼Œæ’­æ”¾å®Œæˆå³ç»“æŸã€‚
- **IndefiniteSymbolEffect**
  - æŒç»­è„‰å†²åŠ¨ç”»ï¼ˆæ— é™å¾ªç¯ï¼‰ï¼Œç›´åˆ°è¢«ç§»é™¤æˆ–ç¦ç”¨ã€‚
  - å¯é€šè¿‡ `SymbolEffectOptions.repeating` è®¾ç½®å¾ªç¯æ’­æ”¾ã€‚

------

### åŠ¨ç”»æ§åˆ¶

```
public var byLayer: PulseSymbolEffect { get }
public var wholeSymbol: PulseSymbolEffect { get }
```

- `.byLayer` â†’ å¯¹æ¯ä¸ª **motion group**ï¼ˆç¬¦å·å†…éƒ¨å¯ç‹¬ç«‹åŠ¨ç”»çš„éƒ¨åˆ†ï¼‰åˆ†åˆ«åº”ç”¨è„‰å†²åŠ¨ç”»
- `.wholeSymbol` â†’ åŒæ—¶ä½œç”¨äºæ‰€æœ‰ motion group

ç¤ºä¾‹ï¼š

```
// æ•´ä¸ªç¬¦å·åŒæ—¶è„‰å†²ï¼Œæ…¢é€Ÿå¾ªç¯
imageView.addSymbolEffect(.pulse.wholeSymbol, options: .repeating.speed(0.5))

// æ¯ä¸ªå±‚å•ç‹¬è„‰å†²ï¼Œå¿«é€Ÿå¾ªç¯
imageView.addSymbolEffect(.pulse.byLayer, options: .repeating.speed(2.0))

// ä¸€æ¬¡æ€§è„‰å†²åŠ¨ç”»ï¼ˆæ’­æ”¾ä¸€æ¬¡å³å¯ï¼‰
imageView.addSymbolEffect(.pulse.wholeSymbol, options: .nonRepeating.speed(1.0))
```

------

### è¡¥å……ä¿¡æ¯

1. **é»˜è®¤æ’­æ”¾ç±»å‹**
   - Pulse é»˜è®¤å¯ä»¥ä½œä¸º **ä¸€æ¬¡æ€§åŠ¨ç”»**ï¼ˆDiscreteï¼‰ã€‚
2. **ä¸ Bounce / VariableColor åŒºåˆ«**
   - Pulse ä¸»è¦è¡¨ç°ä¸º **é€æ˜åº¦é—ªçƒ/å‘¼å¸æ•ˆæœ**
   - Bounce è¡¨ç°ä¸º **ä½ç§»å¼¹è·³**
   - VariableColor è¡¨ç°ä¸º **é¢œè‰²æ¸å˜å˜åŒ–**
3. **å¯ç»„åˆé“¾å¼è°ƒç”¨**
   - `.pulse.byLayer` æˆ– `.pulse.wholeSymbol` å¯çµæ´»ç»„åˆ
   - è¿˜å¯é€šè¿‡ `SymbolEffectOptions.speed`ã€`.repeating` ç­‰é“¾å¼è®¾ç½®åŠ¨ç”»èŠ‚å¥ä¸é‡å¤æ–¹å¼

## Scale åŠ¨ç”»

```
public struct ScaleSymbolEffect : SymbolEffect
```

`ScaleSymbolEffect` æ˜¯ **ä¸“é—¨ä¸º SF Symbols è®¾è®¡çš„ç¼©æ”¾åŠ¨ç”»æ•ˆæœ**ã€‚
åŠ¨ç”»è¡¨ç°ä¸º **æ²¿ç¬¦å·ä¸­å¿ƒçš„ç¼©æ”¾è¿åŠ¨**ï¼Œå¯ä»¥â€œæ”¾å¤§â€æˆ–â€œç¼©å°â€ï¼Œå¸¸ç”¨äºå¼ºè°ƒçŠ¶æ€å˜åŒ–æˆ–åˆ¶ä½œå‘¼å¸æ•ˆæœã€‚

> âš ï¸ æ³¨æ„ï¼šScale åªèƒ½è®¾ç½®å•å‘çŠ¶æ€ï¼ˆup æˆ– downï¼‰ï¼Œä¸ä¼šè‡ªåŠ¨å¾ªç¯ï¼Œä¹Ÿæ²¡æœ‰ç¦»æ•£åŠ¨ç”»ï¼ˆDiscreteï¼‰é€‰é¡¹ã€‚åŠ¨ç”»ä¼šä¿æŒåœ¨è®¾ç½®çš„ç¼©æ”¾çŠ¶æ€ï¼Œç›´åˆ°å¼€å‘è€…æ‰‹åŠ¨ç§»é™¤æˆ–æ”¹å˜ã€‚

### åè®®éµå¾ªä¸é…ç½®èƒ½åŠ›

- **SymbolEffect**
  - æ‹¥æœ‰ **é…ç½®èƒ½åŠ›** (`configuration`)ï¼Œç”¨äºæè¿°åŠ¨ç”»å‚æ•°ï¼Œå¦‚é€Ÿåº¦ç­‰ã€‚
  - å¯ç›´æ¥åœ¨ UIKit / SwiftUI ä¸­ä½¿ç”¨ç»Ÿä¸€æ¥å£ï¼Œä¾‹å¦‚ï¼š`addSymbolEffect()` / `.symbolEffect()`ã€‚
- **IndefiniteSymbolEffect**
  - è¡¨ç¤ºåŠ¨ç”»ä¼š **æŒç»­ä¿æŒåœ¨æŒ‡å®šçŠ¶æ€**ï¼ˆup æˆ– downï¼‰ï¼Œä¸ä¼šè‡ªåŠ¨æ¥å›å¾ªç¯ã€‚
  - å¯é€šè¿‡ `SymbolEffectOptions` è®¾ç½®é€Ÿåº¦æˆ–å…¶ä»–å‚æ•°ã€‚
  - éœ€è¦å¼€å‘è€…æ‰‹åŠ¨ç»ˆæ­¢æˆ–ç§»é™¤åŠ¨ç”»ã€‚

### æ–¹å‘æ§åˆ¶

```
public var up: ScaleSymbolEffect { get }
public var down: ScaleSymbolEffect { get }
```

- `up` : ç¬¦å·ä¿æŒæ”¾å¤§çŠ¶æ€
- `down`: ç¬¦å·ä¿æŒç¼©å°çŠ¶æ€

```
// æ”¾å¤§ç¬¦å·ï¼Œæ…¢é€Ÿ
imageView.addSymbolEffect(.scale.up, options: .speed(0.3))
```



### å±‚çº§æ§åˆ¶

```
public var byLayer: ScaleSymbolEffect { get }
public var wholeSymbol: ScaleSymbolEffect { get }
```

- `byLayer` : å¯¹ç¬¦å·å†…éƒ¨å¯å•ç‹¬åŠ¨ç”»çš„éƒ¨åˆ†åˆ†åˆ«åº”ç”¨ç¼©æ”¾çŠ¶æ€
- `wholeSymbol` : æ•´ä¸ªç¬¦å·ç»Ÿä¸€ç¼©æ”¾

```
// æ¯ä¸ªå±‚åˆ†åˆ«æ”¾å¤§
imageView.addSymbolEffect(.scale.byLayer.up, options: .speed(0.3))

// æ•´ä¸ªç¬¦å·åŒæ—¶ç¼©å°
imageView.addSymbolEffect(.scale.wholeSymbol.down, options: .speed(0.5))
```

### è¡¥å……ä¿¡æ¯

1. **é»˜è®¤æ’­æ”¾ç±»å‹**
   - Scale é»˜è®¤æ˜¯ **æŒç»­çŠ¶æ€åŠ¨ç”»**ï¼Œä¸ä¼šè‡ªåŠ¨æ¥å›å¾ªç¯ã€‚
   - å¯ä»¥é€šè¿‡ `SymbolEffectOptions.speed()` è°ƒæ•´ç¼©æ”¾å˜åŒ–çš„è¿‡æ¸¡é€Ÿåº¦ã€‚
2. **ä¸ Bounce / Pulse åŒºåˆ«**
   - Scale ä¸»è¦è¡¨ç°ä¸º **ç¬¦å·æ•´ä½“æˆ–éƒ¨åˆ†ç¼©æ”¾**
   - Bounce / Pulse æ›´å¼ºè°ƒ **ä½ç½®æˆ–é€æ˜åº¦/äº®åº¦å˜åŒ–**ã€‚
3. **å¯ç»„åˆé“¾å¼è°ƒç”¨**
   - `.scale.byLayer.up` æˆ– `.scale.wholeSymbol.down` å¯ä»¥çµæ´»ç»„åˆå±‚çº§å’Œæ–¹å‘
   - ä½†æ— æ³•å®ç°è‡ªåŠ¨å¾ªç¯æˆ–å…ˆæ”¾å¤§å†ç¼©å°çš„æ•ˆæœã€‚



## Variable Color åŠ¨ç”»

```swift
public struct VariableColorSymbolEffect : SymbolEffect
```

`VariableColorSymbolEffect` æ˜¯ **ä¸º SF Symbols å¯å˜é¢œè‰²å›¾å±‚è®¾è®¡çš„åŠ¨ç”»æ•ˆæœ**ã€‚å®ƒé€šè¿‡æ”¹å˜ç¬¦å·å›¾å±‚çš„é€æ˜åº¦æˆ–äº®åº¦ï¼Œå®ç° **é¢œè‰²åŠ¨æ€å˜åŒ–**ã€‚å¯¹æ™®é€šï¼ˆéå¯å˜é¢œè‰²ï¼‰ç¬¦å·æ— æ•ˆã€‚

> å¯åœ¨ **SF Symbol App** ä¸­æŸ¥çœ‹ç¬¦å·å±æ€§æ˜¯å¦æ”¯æŒã€‚

### åè®®éµå¾ªä¸é…ç½®èƒ½åŠ›

- **SymbolEffect**
  - æ‹¥æœ‰ **é…ç½®èƒ½åŠ›** (`configuration`) ç”¨äºæè¿°åŠ¨ç”»å‚æ•°
  - å¯ç›´æ¥åœ¨ UIKit / SwiftUI ä¸­ä½¿ç”¨ç»Ÿä¸€æ¥å£ï¼Œä¾‹å¦‚ï¼š`addSymbolEffect()` / `.symbolEffect()`ã€‚
- **DiscreteSymbolEffect**
  - ä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆç¬æ€åŠ¨ç”»ï¼‰ï¼Œæ’­æ”¾å®Œæˆå³ç»“æŸ
- **IndefiniteSymbolEffect**
  - æŒç»­åŠ¨ç”»ï¼ˆæ— é™å¾ªç¯ï¼‰ï¼Œç›´åˆ°è¢«ç§»é™¤æˆ–ç¦ç”¨
  - å¯é€šè¿‡ `SymbolEffectOptions.repeating` è®¾ç½®å¾ªç¯æ’­æ”¾

### æ–¹å‘æ§åˆ¶

```
public var reversing: VariableColorSymbolEffect { get }
public var nonReversing: VariableColorSymbolEffect { get }
```

- **reversing** ï¼ˆåè½¬ï¼‰
  - æ¯æ¬¡åŠ¨ç”»å¾ªç¯æ—¶æ–¹å‘åè½¬ï¼ˆç±»ä¼¼â€œå¾€è¿”è¿åŠ¨â€ï¼‰
  - ä¸¾ä¾‹ï¼šç¬¬ä¸€å‘¨æœŸä»åº•åˆ°é¡¶ï¼Œç¬¬äºŒå‘¨æœŸä»é¡¶åˆ°åº•
  - å¸¸ç”¨äº **åŠ¨ç”»æ›´è‡ªç„¶çš„å¾ªç¯**
- **nonReversing**ï¼ˆéåè½¬ï¼‰
  - æ¯æ¬¡å¾ªç¯ä¿æŒåŒæ ·æ–¹å‘
  - ç¬¬ä¸€å‘¨æœŸåº•åˆ°é¡¶ï¼Œç¬¬äºŒå‘¨æœŸåˆä»åº•åˆ°é¡¶
  - ç”¨äº **å•å‘ä¸Šå‡æˆ–ä¸‹é™æ•ˆæœ**

**ç»„åˆç¤ºä¾‹ï¼š**

```
.imageView.addSymbolEffect(.variableColor.reversing.iterative, options: .repeating)
```

> è§£é‡Šï¼šè¿­ä»£æ¨¡å¼ä¸‹ï¼Œæ¯æ¬¡å¾ªç¯æ–¹å‘åè½¬



### å±‚çº§æ§åˆ¶

```
public var cumulative: VariableColorSymbolEffect { get }
public var iterative: VariableColorSymbolEffect { get }
```

- **cumulative** ï¼ˆç´¯ç§¯ï¼‰
  - æ¯ä¸ª successive layer æ¿€æ´»åä¿æŒæ¿€æ´»ï¼Œç›´åˆ°æ•´ä¸ªåŠ¨ç”»å‘¨æœŸç»“æŸ
  - è§†è§‰æ•ˆæœï¼šæ¯ä¸ªå±‚ä¾æ¬¡äº®èµ·ï¼Œäº®èµ·çš„å±‚ä¸ä¼šç†„ç­ï¼Œå½¢æˆ **ç´¯ç§¯å åŠ ** æ•ˆæœ
- **iterative** ï¼ˆé€å±‚ï¼‰
  - æ¯ä¸ª successive layer ä¸´æ—¶æ¿€æ´»ä¸€å°æ®µæ—¶é—´ï¼Œç„¶åæ¢å¤æœªæ¿€æ´»çŠ¶æ€
  - è§†è§‰æ•ˆæœï¼šæ¯ä¸ªå±‚ä¾æ¬¡é—ªåŠ¨ï¼Œå½¢æˆ **è½®æµé—ªçƒ** æ•ˆæœ

> âš ï¸ è¿™ä¸¤è€…äº’æ–¥ï¼Œè°ƒç”¨å…¶ä¸­ä¸€ä¸ªä¼šå–æ¶ˆå¦ä¸€ä¸ªæ•ˆæœã€‚

**ç»„åˆç¤ºä¾‹ï¼š**

```
// ç´¯ç§¯æ¨¡å¼ + æ¸æš—æœªæ¿€æ´»å±‚
imageView.addSymbolEffect(.variableColor.cumulative.dimInactiveLayers, options: .repeating)

// è¿­ä»£æ¨¡å¼ + éšè—æœªæ¿€æ´»å±‚
imageView.addSymbolEffect(.variableColor.iterative.hideInactiveLayers, options: .repeating)
```



### éæ¿€æ´»å±‚æ˜¾ç¤ºæ–¹å¼

```
public var hideInactiveLayers: VariableColorSymbolEffect { get }
public var dimInactiveLayers: VariableColorSymbolEffect { get }
```

- **hideInactiveLayers**
  - æœªæ¿€æ´»çš„å›¾å±‚å®Œå…¨éšè—ï¼ˆopacity = 0ï¼‰
  - ç”¨äºå¼ºè°ƒå½“å‰æ¿€æ´»çš„å›¾å±‚
- **dimInactiveLayers**
  - æœªæ¿€æ´»çš„å›¾å±‚æ˜¾ç¤ºä¸ºè¾ƒä½é€æ˜åº¦ï¼ˆ0 < opacity < 1ï¼‰
  - ä¿ç•™ç¬¦å·æ•´ä½“å½¢çŠ¶çš„å¯è§æ€§ï¼ŒåŒæ—¶çªå‡ºæ´»è·ƒå±‚

**ç»„åˆç¤ºä¾‹ï¼š**

```
// è¿­ä»£æ¨¡å¼ï¼Œæ¯æ¬¡ä»…æ˜¾ç¤ºæ¿€æ´»å±‚
imageView.addSymbolEffect(.variableColor.iterative.hideInactiveLayers, options: .repeating)

// ç´¯ç§¯æ¨¡å¼ï¼Œä¿æŒå‰é¢æ¿€æ´»çš„å±‚å¯è§ï¼Œä½†éæ¿€æ´»å±‚æ¸æš—
imageView.addSymbolEffect(.variableColor.cumulative.dimInactiveLayers, options: .repeating)
```



### å±æ€§ç»„åˆç¤ºæ„

Variable Color çš„å±æ€§å¯ä»¥è‡ªç”±ç»„åˆï¼Œå½¢æˆä¸åŒè§†è§‰æ•ˆæœï¼š

| å±æ€§ç»„åˆ                          | å«ä¹‰                                       | ä¸¾ä¾‹                                     |
| --------------------------------- | ------------------------------------------ | ---------------------------------------- |
| `iterative + hideInactiveLayers`  | æ¯ä¸ªå›¾å±‚ä¾æ¬¡çŸ­æš‚äº®èµ·ï¼Œéæ¿€æ´»å±‚å®Œå…¨éšè—     | å±‚è½®æµé—ªçƒï¼Œçªå‡ºæ´»è·ƒå±‚                   |
| `iterative + dimInactiveLayers`   | æ¯ä¸ªå›¾å±‚ä¾æ¬¡çŸ­æš‚äº®èµ·ï¼Œéæ¿€æ´»å±‚ä¿æŒä½é€æ˜åº¦ | å±‚è½®æµé—ªçƒï¼Œä½†ç¬¦å·è½®å»“å¯è§               |
| `cumulative + hideInactiveLayers` | æ¿€æ´»çš„å±‚ç´¯ç§¯æ˜¾ç¤ºï¼Œéæ¿€æ´»å±‚éšè—             | å‰å±‚äº®èµ·ï¼Œåç»­å±‚é€æ¸å åŠ å‡ºç°             |
| `cumulative + dimInactiveLayers`  | æ¿€æ´»å±‚ç´¯ç§¯æ˜¾ç¤ºï¼Œéæ¿€æ´»å±‚æ¸æš—               | å‰å±‚äº®èµ·ï¼Œæ•´ä¸ªç¬¦å·è½®å»“å¯è§ï¼Œå½¢æˆæ¸äº®æ•ˆæœ |
| `reversing`                       | å¾ªç¯æ—¶åŠ¨ç”»æ–¹å‘åè½¬                         | å¾€è¿”é—ªçƒæ›´è‡ªç„¶                           |
| `nonReversing`                    | å¾ªç¯æ—¶ä¿æŒæ–¹å‘ä¸€è‡´                         | å•å‘é—ªçƒæˆ–ç´¯ç§¯æ•ˆæœ                       |

> âš ï¸ æ³¨æ„ï¼š`cumulative` ä¸ `iterative` äº’æ–¥ï¼›`reversing` / `nonReversing` ä¸å±‚çº§æ§åˆ¶å¯è‡ªç”±ç»„åˆï¼›`hideInactiveLayers` ä¸ `dimInactiveLayers` ä¹Ÿäº’æ–¥ã€‚





### è¡¥å……ä¿¡æ¯

1. **é»˜è®¤æ’­æ”¾ç±»å‹**
   - Variable Color å¯ä»¥åŒæ—¶ä½œä¸º **ç¦»æ•£åŠ¨ç”»** æˆ– **æŒç»­åŠ¨ç”»**
   - å¯¹å¯å˜é¢œè‰²ç¬¦å·æœ‰æ•ˆï¼Œå¯¹æ™®é€šç¬¦å·æ— æ•ˆ
2. **ä¸ Bounce / Scale / Pulse åŒºåˆ«**
   - Variable Color ä¸»è¦æ”¹å˜ **ç¬¦å·å›¾å±‚é¢œè‰²æˆ–é€æ˜åº¦**
   - Bounce / Scale / Pulse æ›´å¼ºè°ƒ **ä½ç§»æˆ–ç¼©æ”¾/é€æ˜åº¦å˜åŒ–**
3. **å¯ç»„åˆé“¾å¼è°ƒç”¨**
   - `.variableColor.reversing.cumulative.hideInactiveLayers` ç­‰é“¾å¼è°ƒç”¨å¯è‡ªç”±ç»„åˆæ¨¡å¼å’Œå¯è§æ€§



## Wiggle åŠ¨ç”»

```
public struct WiggleSymbolEffect : SymbolEffect
```

`WiggleSymbolEffect` æ˜¯ **ä¸“é—¨ä¸º SF Symbols è®¾è®¡çš„æ‘‡æ‘†åŠ¨ç”»**ã€‚åŠ¨ç”»è¡¨ç°ä¸º **æ²¿ X æˆ– Y è½´çš„å°å¹…å¾€å¤è¿åŠ¨**ï¼Œæˆ–è€…æ—‹è½¬å¾€å¤è¿åŠ¨ï¼Œç”¨äºæç¤ºæˆ–å¼ºè°ƒç¬¦å·ã€‚

### åè®®éµå¾ªä¸é…ç½®èƒ½åŠ›

- **SymbolEffect**
  - æ‹¥æœ‰ **é…ç½®èƒ½åŠ›** (`configuration`)ï¼Œå¯ç”¨äºè®¾ç½®åŠ¨ç”»å‚æ•°ï¼Œä¾‹å¦‚é€Ÿåº¦å’Œé‡å¤æ¬¡æ•°ã€‚
  - å¯ç›´æ¥åœ¨ UIKit / SwiftUI ä¸­ä½¿ç”¨ç»Ÿä¸€æ¥å£ï¼Œä¾‹å¦‚ï¼š`addSymbolEffect()` / `.symbolEffect()`ã€‚
- **DiscreteSymbolEffect**
  - ä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆç¬æ€ï¼‰ï¼Œæ’­æ”¾å®Œæˆå³ç»“æŸã€‚
- **IndefiniteSymbolEffect**
  - æŒç»­åŠ¨ç”»ï¼ˆæ— é™å¾ªç¯ï¼‰ï¼Œç›´åˆ°è¢«ç§»é™¤æˆ–ç¦ç”¨ã€‚
  - å¯é€šè¿‡ `SymbolEffectOptions.repeating` æˆ–é»˜è®¤è¡Œä¸ºæ’­æ”¾ã€‚

### æ–¹å‘æ§åˆ¶

```
// æ°´å¹³ç§»åŠ¨
public var left: WiggleSymbolEffect
public var right: WiggleSymbolEffect

// å‚ç›´ç§»åŠ¨
public var up: WiggleSymbolEffect
public var down: WiggleSymbolEffect

// é¡ºæ—¶é’ˆ / é€†æ—¶é’ˆæ—‹è½¬
public var clockwise: WiggleSymbolEffect
public var counterClockwise: WiggleSymbolEffect

// æ ¹æ®å½“å‰è¯­è¨€ç¯å¢ƒæ°´å¹³ç§»åŠ¨
public var forward: WiggleSymbolEffect
public var backward: WiggleSymbolEffect

// è‡ªå®šä¹‰ä»»æ„è§’åº¦ç§»åŠ¨ï¼ˆé¡ºæ—¶é’ˆä¸ºæ­£è§’åº¦ï¼‰
public func custom(angle: Double) -> WiggleSymbolEffect
```

> âš ï¸ æ³¨æ„ï¼š
>
> - æ¯ä¸ªæ–¹å‘éƒ½æ˜¯ **èµ·å§‹æ–¹å‘**ï¼ŒåŠ¨ç”»å‘¨æœŸä¼šåœ¨èµ·å§‹æ–¹å‘å’Œåæ–¹å‘ä¹‹é—´å¾€è¿”ã€‚
> - ä¾‹å¦‚ `.left` æ„å‘³ç€å…ˆå‘å·¦ï¼Œç„¶åå¾€å³ï¼Œå†å›åˆ°åŸä½ã€‚

### å±‚çº§æ§åˆ¶

```
public var byLayer: WiggleSymbolEffect
public var wholeSymbol: WiggleSymbolEffect
```

- `byLayer`: å¯¹ç¬¦å·æ¯ä¸ª motion group åˆ†åˆ«åº”ç”¨åŠ¨ç”»
- `wholeSymbol`: å¯¹æ•´ä¸ªç¬¦å·åŒæ—¶åº”ç”¨åŠ¨ç”»

```
// æ•´ä¸ªç¬¦å·æ‘‡æ‘†
imageView.addSymbolEffect(.wiggle.wholeSymbol.left, options: .repeating.speed(0.5))

// æ¯å±‚æ‘‡æ‘†
imageView.addSymbolEffect(.wiggle.byLayer.clockwise, options: .repeating.speed(0.2))
```

### è¡¥å……ä¿¡æ¯

1. **é»˜è®¤æ’­æ”¾ç±»å‹**
   - Wiggle é»˜è®¤æ˜¯æŒç»­åŠ¨ç”»ï¼ˆIndefiniteï¼‰ï¼Œæ— éœ€é¢å¤–è®¾ç½®å³å¯å¾ªç¯æ’­æ”¾ã€‚
   - è‹¥æƒ³åªæ’­æ”¾ä¸€æ¬¡ï¼Œå¯ä½¿ç”¨ `.nonRepeating` æˆ–é™åˆ¶é‡å¤æ¬¡æ•°ã€‚
2. **å¯ç»„åˆé“¾å¼è°ƒç”¨**
   - `.wiggle.byLayer.left` æˆ– `.wiggle.wholeSymbol.clockwise` å¯ä¸é€Ÿåº¦ã€é‡å¤é€‰é¡¹ç»„åˆã€‚
   - å¯è‡ªå®šä¹‰è§’åº¦ï¼š`.wiggle.custom(angle: 30)`ã€‚

## Appear åŠ¨ç”»

è®© SF Symbol ä»æŸä¸ªæ–¹å‘é€æ¸å‡ºç°ï¼Œå¯é…åˆ `byLayer` æˆ– `wholeSymbol` è®¾ç½®æ˜¾ç¤ºå±‚çº§ã€‚

> âš ï¸ é»˜è®¤æ˜¯ä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆDiscreteï¼‰ï¼Œæ’­æ”¾å®Œæˆå³ç»“æŸã€‚
>
> å¦‚æœç¬¦å·æœ¬èº«å·²ç»æ˜¾ç¤ºå‡ºæ¥ï¼Œå†æ’­æ”¾ Appear åŠ¨ç”»ï¼Œè§†è§‰ä¸Šæ˜¯çœ‹ä¸åˆ°ä»»ä½•å˜åŒ–çš„ã€‚
>
> **æœ€å¥½æ˜¯ç»“åˆDisappearåŠ¨ç”»ä¸€èµ·ä½¿ç”¨**

```
public struct AppearSymbolEffect : SymbolEffect {
    public var up: AppearSymbolEffect { get }        // ä»ä¸‹å‘ä¸Šå‡ºç°
    public var down: AppearSymbolEffect { get }      // ä»ä¸Šå‘ä¸‹å‡ºç°
    public var byLayer: AppearSymbolEffect { get }  // æ¯ä¸ª motion group åˆ†åˆ«å‡ºç°
    public var wholeSymbol: AppearSymbolEffect { get } // æ•´ä¸ªç¬¦å·åŒæ—¶å‡ºç°
}
```

**æ–¹å‘æ§åˆ¶**ï¼š

- `.up`ï¼šç¬¦å·ä»ä¸‹æ–¹å‡ºç°
- `.down`ï¼šç¬¦å·ä»ä¸Šæ–¹å‡ºç°

**å±‚çº§æ§åˆ¶**ï¼š

- `.byLayer`ï¼šç¬¦å·å†…éƒ¨å„ motion group åˆ†åˆ«å‡ºç°
- `.wholeSymbol`ï¼šæ•´ä¸ªç¬¦å·åŒæ—¶å‡ºç°

**é»˜è®¤è¡Œä¸º**ï¼šä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆDiscreteï¼‰ï¼Œæ’­æ”¾å®Œæˆå³ç»“æŸ

```
imageView1.addSymbolEffect(.appear.up.wholeSymbol, options: .speed(0.5))
imageView2.addSymbolEffect(.appear.down.byLayer, options: .speed(0.8))
imageView3.addSymbolEffect(.appear.up.byLayer, options: .speed(1.0))
```



## Disappear åŠ¨ç”»

è®© SF Symbol å‘æŸä¸ªæ–¹å‘æ¶ˆå¤±ï¼Œå¯é…åˆ `byLayer` æˆ– `wholeSymbol` è®¾ç½®æ¶ˆå¤±å±‚çº§ã€‚

> é»˜è®¤æ˜¯ä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆDiscreteï¼‰ï¼Œæ’­æ”¾å®Œæˆå³ç»“æŸã€‚

```
public struct DisappearSymbolEffect : SymbolEffect {
    public var up: DisappearSymbolEffect { get }       
    public var down: DisappearSymbolEffect { get }     
    public var byLayer: DisappearSymbolEffect { get }  
    public var wholeSymbol: DisappearSymbolEffect { get } 
}
```

**æ–¹å‘æ§åˆ¶**ï¼š

- `.up`ï¼šç¬¦å·å‘ä¸Šæ¶ˆå¤±
- `.down`ï¼šç¬¦å·å‘ä¸‹æ¶ˆå¤±

**å±‚çº§æ§åˆ¶**ï¼š

- `.byLayer`ï¼šç¬¦å·å†…éƒ¨å„ motion group åˆ†åˆ«æ¶ˆå¤±
- `.wholeSymbol`ï¼šæ•´ä¸ªç¬¦å·åŒæ—¶æ¶ˆå¤±

```
imageView1.addSymbolEffect(.disappear.up.wholeSymbol, options: .speed(0.5))
imageView2.addSymbolEffect(.disappear.down.byLayer, options: .speed(0.8))
imageView3.addSymbolEffect(.disappear.up.byLayer, options: .speed(1.0))
```





## Replace åŠ¨ç”»

æ›¿æ¢ç¬¦å·åŠ¨ç”»ï¼Œå¸¸ç”¨äºåˆ‡æ¢å›¾æ ‡ã€‚

> é»˜è®¤æ˜¯ä¸€æ¬¡æ€§åŠ¨ç”»ï¼ˆDiscreteï¼‰

```
public struct ReplaceSymbolEffect : SymbolEffect {
    public var downUp: ReplaceSymbolEffect { get }  // æ—§ç¬¦å·ç¼©å°æ¶ˆå¤±ï¼Œæ–°ç¬¦å·æ”¾å¤§å‡ºç°
    public var upUp: ReplaceSymbolEffect { get }    // æ—§ç¬¦å·æ”¾å¤§æ¶ˆå¤±ï¼Œæ–°ç¬¦å·æ”¾å¤§å‡ºç°
    public var offUp: ReplaceSymbolEffect { get }   // æ—§ç¬¦å·ç›´æ¥æ¶ˆå¤±ï¼Œæ–°ç¬¦å·æ”¾å¤§å‡ºç°
    public var byLayer: ReplaceSymbolEffect { get } 
    public var wholeSymbol: ReplaceSymbolEffect { get }
}
```

**å˜ä½“**ï¼š

- `.downUp`ï¼šæ—§ç¬¦å·ç¼©å°æ¶ˆå¤± â†’ æ–°ç¬¦å·æ”¾å¤§å‡ºç°
- `.upUp`ï¼šæ—§ç¬¦å·æ”¾å¤§æ¶ˆå¤± â†’ æ–°ç¬¦å·æ”¾å¤§å‡ºç°
- `.offUp`ï¼šæ—§ç¬¦å·ç›´æ¥æ¶ˆå¤± â†’ æ–°ç¬¦å·æ”¾å¤§å‡ºç°

**å±‚çº§æ§åˆ¶**ï¼š

- `.byLayer`ï¼šæ¯ä¸ª motion group åˆ†åˆ«åŠ¨ç”»
- `.wholeSymbol`ï¼šæ•´ä¸ªç¬¦å·åŒæ—¶åŠ¨ç”»

```
// ç”± æš‚åœ â†’ æ’­æ”¾ æ›¿æ¢åŠ¨ç”»æ•ˆæœ
imageView.image = UIImage(systemName: "pause.fill")
DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
   let palyImage = UIImage(systemName: "play.fill")!
   self.imageView.setSymbolImage(palyImage, contentTransition: .replace.offUp)
}
```





## åŠ¨ç”»çš„ç»„åˆä½¿ç”¨

ä½ å¯ä»¥åœ¨åŒä¸€ä¸ª `UIImageView` æˆ– `SymbolImageView` ä¸Š **åŒæ—¶å åŠ å¤šç§åŠ¨ç”»**ï¼ŒåŠ¨ç”»ä¹‹é—´äº’ä¸å†²çªï¼Œå¯ä»¥ç»„åˆå‡ºä¸°å¯Œçš„æ•ˆæœã€‚ä¾‹å¦‚ï¼š

```
imageView.addSymbolEffect(.wiggle.wholeSymbol.left, options: .repeating.speed(0.5))
imageView.addSymbolEffect(.variableColor.cumulative, options: .repeating.speed(0.3))
```

### æ³¨æ„äº‹é¡¹ï¼š

1. **ç‹¬ç«‹ç±»å‹å¯ç»„åˆ**
   - ä¸åŒç±»å‹çš„åŠ¨ç”»ï¼ˆå¦‚ `wiggle`ã€`scale`ã€`bounce`ã€`variableColor`ï¼‰å¯ä»¥åŒæ—¶å åŠ ã€‚
   - åŒç±»å‹åŠ¨ç”»å¦‚æœå åŠ ï¼Œåæ·»åŠ çš„ä¼šè¦†ç›–å‰ä¸€ä¸ªåŠ¨ç”»ã€‚
2. **é¡ºåºä¸å»¶è¿Ÿ**
   - ç»„åˆåŠ¨ç”»æ—¶ï¼Œå¦‚æœå¸Œæœ›äº§ç”Ÿæ—¶é—´é”™ä½çš„è§†è§‰æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨ `DispatchQueue.main.asyncAfter` æˆ– `UIViewPropertyAnimator` é…åˆè§¦å‘ã€‚
3. **å±‚çº§æ§åˆ¶**
   - å¯ä»¥é’ˆå¯¹æ¯ä¸ªåŠ¨ç”»å•ç‹¬è®¾ç½® `.byLayer` æˆ– `.wholeSymbol`ï¼Œå®ç°å±€éƒ¨æˆ–æ•´ä½“æ•ˆæœã€‚
4. **æ€§èƒ½è€ƒè™‘**
   - å¤šä¸ªåŠ¨ç”»åŒæ—¶è¿è¡Œä¼šå¢åŠ  CPU/GPU æ¶ˆè€—ï¼Œå°¤å…¶æ˜¯åœ¨æ—§è®¾å¤‡ä¸Šï¼Œå»ºè®®åˆç†æ§åˆ¶åŠ¨ç”»æ•°é‡å’Œå¤æ‚åº¦ã€‚





## åŠ¨ç”»çš„åœæ­¢

å¯ä»¥æ ¹æ®éœ€è¦ **æ‰‹åŠ¨åœæ­¢åŠ¨ç”»**ï¼Œæä¾›äº†ä¸¤ç§æ–¹å¼ï¼š

### 1. åœæ­¢æŸç§ç±»å‹çš„åŠ¨ç”»

```
// åœæ­¢æŒ‡å®šç±»å‹çš„åŠ¨ç”»ï¼Œä¾‹å¦‚åœæ­¢ Scale åŠ¨ç”»
imageView.removeSymbolEffect(ofType: .scale)
```

- `ofType` æ”¯æŒæ‰€æœ‰ conform `SymbolEffect` çš„ç±»å‹ï¼Œä¾‹å¦‚ `wiggle`  , `variableColor` ç­‰ã€‚
- ä»…åœæ­¢æŒ‡å®šç±»å‹ï¼Œä¸å½±å“åŒä¸€è§†å›¾ä¸Šå…¶ä»–ç±»å‹åŠ¨ç”»ã€‚

### 2. åœæ­¢æ‰€æœ‰åŠ¨ç”»

```
// åœæ­¢è¯¥ imageView ä¸Šçš„æ‰€æœ‰ Symbol åŠ¨ç”»
imageView.removeAllSymbolEffects()
```

- ç«‹å³åœæ­¢æ‰€æœ‰å·²æ·»åŠ çš„åŠ¨ç”»ï¼Œå¹¶æ¢å¤åˆ°ç¬¦å·é»˜è®¤çŠ¶æ€ï¼ˆä¸æ”¹å˜ image æœ¬èº«ï¼‰ã€‚
- å¯¹äºæ­£åœ¨æ’­æ”¾çš„æ— é™å¾ªç¯åŠ¨ç”»ï¼ˆå¦‚ `VariableColor`ã€`Wiggle`ã€`Scale`ï¼‰ï¼Œè¿™æ˜¯å”¯ä¸€å¿«é€Ÿç»ˆæ­¢æ–¹å¼ã€‚

### 3. è¡¥å……æç¤º

- åœæ­¢åŠ¨ç”»å¹¶ä¸ä¼šéšè—ç¬¦å·ï¼Œå¦‚æœå¸Œæœ›æ¶ˆå¤±æˆ–æ›¿æ¢ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½® `imageView.alpha` æˆ–æ›´æ”¹ `imageView.image`ã€‚
- å¯¹ç¦»æ•£åŠ¨ç”»ï¼ˆDiscreteSymbolEffectï¼‰è°ƒç”¨åœæ­¢æ—¶ï¼Œå¦‚æœåŠ¨ç”»å·²å®Œæˆæ’­æ”¾ï¼Œè°ƒç”¨ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ã€‚
